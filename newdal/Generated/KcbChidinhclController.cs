using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VNS.HIS.DAL
{
    /// <summary>
    /// Controller class for kcb_chidinhcls
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class KcbChidinhclController
    {
        // Preload our schema..
        KcbChidinhcl thisSchemaLoad = new KcbChidinhcl();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public KcbChidinhclCollection FetchAll()
        {
            KcbChidinhclCollection coll = new KcbChidinhclCollection();
            Query qry = new Query(KcbChidinhcl.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbChidinhclCollection FetchByID(object IdChidinh)
        {
            KcbChidinhclCollection coll = new KcbChidinhclCollection().Where("id_chidinh", IdChidinh).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbChidinhclCollection FetchByQuery(Query qry)
        {
            KcbChidinhclCollection coll = new KcbChidinhclCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdChidinh)
        {
            return (KcbChidinhcl.Delete(IdChidinh) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdChidinh)
        {
            return (KcbChidinhcl.Destroy(IdChidinh) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(long? IdKham,long? IdBuongGiuong,int? IdDieutri,int? IdKhoadieutri,string MaLuotkham,long IdBenhnhan,DateTime NgayChidinh,short? IdBacsiChidinh,short? IdPhongChidinh,DateTime? NgayThanhtoan,byte TrangthaiThanhtoan,byte? TrangThai,string NguoiTao,DateTime? NgayTao,string NguoiSua,DateTime? NgaySua,byte? TinhtrangIn,string Barcode,byte? Noitru,short? IdKhoaChidinh,string MaKhoaChidinh,string MaChidinh,string MaBenhpham,short? IdDoituongKcb,byte? IdLoaidoituongKcb,string MaDoituongKcb,byte? ChidinhGoidichvu,byte? ChidinhChiphithem,string IpMaytao,string IpMaysua,string TenMaytao,string TenMaysua)
	    {
		    KcbChidinhcl item = new KcbChidinhcl();
		    
            item.IdKham = IdKham;
            
            item.IdBuongGiuong = IdBuongGiuong;
            
            item.IdDieutri = IdDieutri;
            
            item.IdKhoadieutri = IdKhoadieutri;
            
            item.MaLuotkham = MaLuotkham;
            
            item.IdBenhnhan = IdBenhnhan;
            
            item.NgayChidinh = NgayChidinh;
            
            item.IdBacsiChidinh = IdBacsiChidinh;
            
            item.IdPhongChidinh = IdPhongChidinh;
            
            item.NgayThanhtoan = NgayThanhtoan;
            
            item.TrangthaiThanhtoan = TrangthaiThanhtoan;
            
            item.TrangThai = TrangThai;
            
            item.NguoiTao = NguoiTao;
            
            item.NgayTao = NgayTao;
            
            item.NguoiSua = NguoiSua;
            
            item.NgaySua = NgaySua;
            
            item.TinhtrangIn = TinhtrangIn;
            
            item.Barcode = Barcode;
            
            item.Noitru = Noitru;
            
            item.IdKhoaChidinh = IdKhoaChidinh;
            
            item.MaKhoaChidinh = MaKhoaChidinh;
            
            item.MaChidinh = MaChidinh;
            
            item.MaBenhpham = MaBenhpham;
            
            item.IdDoituongKcb = IdDoituongKcb;
            
            item.IdLoaidoituongKcb = IdLoaidoituongKcb;
            
            item.MaDoituongKcb = MaDoituongKcb;
            
            item.ChidinhGoidichvu = ChidinhGoidichvu;
            
            item.ChidinhChiphithem = ChidinhChiphithem;
            
            item.IpMaytao = IpMaytao;
            
            item.IpMaysua = IpMaysua;
            
            item.TenMaytao = TenMaytao;
            
            item.TenMaysua = TenMaysua;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdChidinh,long? IdKham,long? IdBuongGiuong,int? IdDieutri,int? IdKhoadieutri,string MaLuotkham,long IdBenhnhan,DateTime NgayChidinh,short? IdBacsiChidinh,short? IdPhongChidinh,DateTime? NgayThanhtoan,byte TrangthaiThanhtoan,byte? TrangThai,string NguoiTao,DateTime? NgayTao,string NguoiSua,DateTime? NgaySua,byte? TinhtrangIn,string Barcode,byte? Noitru,short? IdKhoaChidinh,string MaKhoaChidinh,string MaChidinh,string MaBenhpham,short? IdDoituongKcb,byte? IdLoaidoituongKcb,string MaDoituongKcb,byte? ChidinhGoidichvu,byte? ChidinhChiphithem,string IpMaytao,string IpMaysua,string TenMaytao,string TenMaysua)
	    {
		    KcbChidinhcl item = new KcbChidinhcl();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdChidinh = IdChidinh;
				
			item.IdKham = IdKham;
				
			item.IdBuongGiuong = IdBuongGiuong;
				
			item.IdDieutri = IdDieutri;
				
			item.IdKhoadieutri = IdKhoadieutri;
				
			item.MaLuotkham = MaLuotkham;
				
			item.IdBenhnhan = IdBenhnhan;
				
			item.NgayChidinh = NgayChidinh;
				
			item.IdBacsiChidinh = IdBacsiChidinh;
				
			item.IdPhongChidinh = IdPhongChidinh;
				
			item.NgayThanhtoan = NgayThanhtoan;
				
			item.TrangthaiThanhtoan = TrangthaiThanhtoan;
				
			item.TrangThai = TrangThai;
				
			item.NguoiTao = NguoiTao;
				
			item.NgayTao = NgayTao;
				
			item.NguoiSua = NguoiSua;
				
			item.NgaySua = NgaySua;
				
			item.TinhtrangIn = TinhtrangIn;
				
			item.Barcode = Barcode;
				
			item.Noitru = Noitru;
				
			item.IdKhoaChidinh = IdKhoaChidinh;
				
			item.MaKhoaChidinh = MaKhoaChidinh;
				
			item.MaChidinh = MaChidinh;
				
			item.MaBenhpham = MaBenhpham;
				
			item.IdDoituongKcb = IdDoituongKcb;
				
			item.IdLoaidoituongKcb = IdLoaidoituongKcb;
				
			item.MaDoituongKcb = MaDoituongKcb;
				
			item.ChidinhGoidichvu = ChidinhGoidichvu;
				
			item.ChidinhChiphithem = ChidinhChiphithem;
				
			item.IpMaytao = IpMaytao;
				
			item.IpMaysua = IpMaysua;
				
			item.TenMaytao = TenMaytao;
				
			item.TenMaysua = TenMaysua;
				
	        item.Save(UserName);
	    }
    }
}
