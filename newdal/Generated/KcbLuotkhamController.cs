using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VNS.HIS.DAL
{
    /// <summary>
    /// Controller class for kcb_luotkham
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class KcbLuotkhamController
    {
        // Preload our schema..
        KcbLuotkham thisSchemaLoad = new KcbLuotkham();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public KcbLuotkhamCollection FetchAll()
        {
            KcbLuotkhamCollection coll = new KcbLuotkhamCollection();
            Query qry = new Query(KcbLuotkham.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbLuotkhamCollection FetchByID(object IdBenhnhan)
        {
            KcbLuotkhamCollection coll = new KcbLuotkhamCollection().Where("id_benhnhan", IdBenhnhan).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbLuotkhamCollection FetchByQuery(Query qry)
        {
            KcbLuotkhamCollection coll = new KcbLuotkhamCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdBenhnhan)
        {
            return (KcbLuotkham.Delete(IdBenhnhan) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdBenhnhan)
        {
            return (KcbLuotkham.Destroy(IdBenhnhan) == 1);
        }
        
        
        
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(long IdBenhnhan,string MaLuotkham)
        {
            Query qry = new Query(KcbLuotkham.Schema);
            qry.QueryType = QueryType.Delete;
            qry.AddWhere("IdBenhnhan", IdBenhnhan).AND("MaLuotkham", MaLuotkham);
            qry.Execute();
            return (true);
        }        
       
    	
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(long IdBenhnhan,string MaLuotkham,DateTime NgayTiepdon,string NguoiTiepdon,short IdDoituongKcb,string MadoituongGia,string MaDoituongKcb,byte? IdLoaidoituongKcb,string NguoiLienhe,string DienthoaiLienhe,string DiachiLienhe,decimal? PtramBhytGoc,decimal? PtramBhyt,string MatheBhyt,DateTime? NgaybatdauBhyt,DateTime? NgayketthucBhyt,string NoicapBhyt,string MaNoicapBhyt,string MaDoituongBhyt,int? MaQuyenloi,string NoiDongtrusoKcbbd,string MaKcbbd,byte? DungTuyen,string Cmt,DateTime? NgayThanhtoan,decimal? LuongCoban,int? TrangthaiCapcuu,string TrieuChung,string ChanDoan,string KetLuan,string HuongDieutri,string MabenhChinh,string MabenhPhu,byte HienthiBaocao,string SoBenhAn,int? SongayDieutri,short? IdKhoatiepnhan,short? SolanKham,int? SttKham,byte? Noitru,string MaKhoaThuchien,string ChandoanKemtheo,string NguoiKetthuc,DateTime? NgayKetthuc,string LydoKetthuc,string DiaChi,string DiachiBhyt,short? IdBenhvienDen,short? IdBenhvienDi,byte? TthaiChuyenden,byte? TthaiChuyendi,short? IdBacsiChuyenvien,byte? TrangthaiNgoaitru,byte TrangthaiNoitru,byte Locked,byte? TthaiThopNoitru,byte? TthaiThanhtoannoitru,int? IdNhapvien,DateTime? NgayNhapvien,DateTime? NgayRavien,string MotaNhapvien,int? IdRavien,short? IdKhoanoitru,short? IdBuong,short? IdGiuong,DateTime? NgayKedon,DateTime? NgayNhanthuoc,DateTime? NgayNhanketquaCls,string NoiGioithieu,byte? BoVien,string Email,string NhomBenhnhan,byte? GiayBhyt,string MadtuongSinhsong,string IpMaytao,string IpMaysua,string TenMaytao,string TenMaysua,DateTime NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua)
	    {
		    KcbLuotkham item = new KcbLuotkham();
		    
            item.IdBenhnhan = IdBenhnhan;
            
            item.MaLuotkham = MaLuotkham;
            
            item.NgayTiepdon = NgayTiepdon;
            
            item.NguoiTiepdon = NguoiTiepdon;
            
            item.IdDoituongKcb = IdDoituongKcb;
            
            item.MadoituongGia = MadoituongGia;
            
            item.MaDoituongKcb = MaDoituongKcb;
            
            item.IdLoaidoituongKcb = IdLoaidoituongKcb;
            
            item.NguoiLienhe = NguoiLienhe;
            
            item.DienthoaiLienhe = DienthoaiLienhe;
            
            item.DiachiLienhe = DiachiLienhe;
            
            item.PtramBhytGoc = PtramBhytGoc;
            
            item.PtramBhyt = PtramBhyt;
            
            item.MatheBhyt = MatheBhyt;
            
            item.NgaybatdauBhyt = NgaybatdauBhyt;
            
            item.NgayketthucBhyt = NgayketthucBhyt;
            
            item.NoicapBhyt = NoicapBhyt;
            
            item.MaNoicapBhyt = MaNoicapBhyt;
            
            item.MaDoituongBhyt = MaDoituongBhyt;
            
            item.MaQuyenloi = MaQuyenloi;
            
            item.NoiDongtrusoKcbbd = NoiDongtrusoKcbbd;
            
            item.MaKcbbd = MaKcbbd;
            
            item.DungTuyen = DungTuyen;
            
            item.Cmt = Cmt;
            
            item.NgayThanhtoan = NgayThanhtoan;
            
            item.LuongCoban = LuongCoban;
            
            item.TrangthaiCapcuu = TrangthaiCapcuu;
            
            item.TrieuChung = TrieuChung;
            
            item.ChanDoan = ChanDoan;
            
            item.KetLuan = KetLuan;
            
            item.HuongDieutri = HuongDieutri;
            
            item.MabenhChinh = MabenhChinh;
            
            item.MabenhPhu = MabenhPhu;
            
            item.HienthiBaocao = HienthiBaocao;
            
            item.SoBenhAn = SoBenhAn;
            
            item.SongayDieutri = SongayDieutri;
            
            item.IdKhoatiepnhan = IdKhoatiepnhan;
            
            item.SolanKham = SolanKham;
            
            item.SttKham = SttKham;
            
            item.Noitru = Noitru;
            
            item.MaKhoaThuchien = MaKhoaThuchien;
            
            item.ChandoanKemtheo = ChandoanKemtheo;
            
            item.NguoiKetthuc = NguoiKetthuc;
            
            item.NgayKetthuc = NgayKetthuc;
            
            item.LydoKetthuc = LydoKetthuc;
            
            item.DiaChi = DiaChi;
            
            item.DiachiBhyt = DiachiBhyt;
            
            item.IdBenhvienDen = IdBenhvienDen;
            
            item.IdBenhvienDi = IdBenhvienDi;
            
            item.TthaiChuyenden = TthaiChuyenden;
            
            item.TthaiChuyendi = TthaiChuyendi;
            
            item.IdBacsiChuyenvien = IdBacsiChuyenvien;
            
            item.TrangthaiNgoaitru = TrangthaiNgoaitru;
            
            item.TrangthaiNoitru = TrangthaiNoitru;
            
            item.Locked = Locked;
            
            item.TthaiThopNoitru = TthaiThopNoitru;
            
            item.TthaiThanhtoannoitru = TthaiThanhtoannoitru;
            
            item.IdNhapvien = IdNhapvien;
            
            item.NgayNhapvien = NgayNhapvien;
            
            item.NgayRavien = NgayRavien;
            
            item.MotaNhapvien = MotaNhapvien;
            
            item.IdRavien = IdRavien;
            
            item.IdKhoanoitru = IdKhoanoitru;
            
            item.IdBuong = IdBuong;
            
            item.IdGiuong = IdGiuong;
            
            item.NgayKedon = NgayKedon;
            
            item.NgayNhanthuoc = NgayNhanthuoc;
            
            item.NgayNhanketquaCls = NgayNhanketquaCls;
            
            item.NoiGioithieu = NoiGioithieu;
            
            item.BoVien = BoVien;
            
            item.Email = Email;
            
            item.NhomBenhnhan = NhomBenhnhan;
            
            item.GiayBhyt = GiayBhyt;
            
            item.MadtuongSinhsong = MadtuongSinhsong;
            
            item.IpMaytao = IpMaytao;
            
            item.IpMaysua = IpMaysua;
            
            item.TenMaytao = TenMaytao;
            
            item.TenMaysua = TenMaysua;
            
            item.NgayTao = NgayTao;
            
            item.NguoiTao = NguoiTao;
            
            item.NgaySua = NgaySua;
            
            item.NguoiSua = NguoiSua;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdBenhnhan,string MaLuotkham,DateTime NgayTiepdon,string NguoiTiepdon,short IdDoituongKcb,string MadoituongGia,string MaDoituongKcb,byte? IdLoaidoituongKcb,string NguoiLienhe,string DienthoaiLienhe,string DiachiLienhe,decimal? PtramBhytGoc,decimal? PtramBhyt,string MatheBhyt,DateTime? NgaybatdauBhyt,DateTime? NgayketthucBhyt,string NoicapBhyt,string MaNoicapBhyt,string MaDoituongBhyt,int? MaQuyenloi,string NoiDongtrusoKcbbd,string MaKcbbd,byte? DungTuyen,string Cmt,DateTime? NgayThanhtoan,decimal? LuongCoban,int? TrangthaiCapcuu,string TrieuChung,string ChanDoan,string KetLuan,string HuongDieutri,string MabenhChinh,string MabenhPhu,byte HienthiBaocao,string SoBenhAn,int? SongayDieutri,short? IdKhoatiepnhan,short? SolanKham,int? SttKham,byte? Noitru,string MaKhoaThuchien,string ChandoanKemtheo,string NguoiKetthuc,DateTime? NgayKetthuc,string LydoKetthuc,string DiaChi,string DiachiBhyt,short? IdBenhvienDen,short? IdBenhvienDi,byte? TthaiChuyenden,byte? TthaiChuyendi,short? IdBacsiChuyenvien,byte? TrangthaiNgoaitru,byte TrangthaiNoitru,byte Locked,byte? TthaiThopNoitru,byte? TthaiThanhtoannoitru,int? IdNhapvien,DateTime? NgayNhapvien,DateTime? NgayRavien,string MotaNhapvien,int? IdRavien,short? IdKhoanoitru,short? IdBuong,short? IdGiuong,DateTime? NgayKedon,DateTime? NgayNhanthuoc,DateTime? NgayNhanketquaCls,string NoiGioithieu,byte? BoVien,string Email,string NhomBenhnhan,byte? GiayBhyt,string MadtuongSinhsong,string IpMaytao,string IpMaysua,string TenMaytao,string TenMaysua,DateTime NgayTao,string NguoiTao,DateTime? NgaySua,string NguoiSua)
	    {
		    KcbLuotkham item = new KcbLuotkham();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdBenhnhan = IdBenhnhan;
				
			item.MaLuotkham = MaLuotkham;
				
			item.NgayTiepdon = NgayTiepdon;
				
			item.NguoiTiepdon = NguoiTiepdon;
				
			item.IdDoituongKcb = IdDoituongKcb;
				
			item.MadoituongGia = MadoituongGia;
				
			item.MaDoituongKcb = MaDoituongKcb;
				
			item.IdLoaidoituongKcb = IdLoaidoituongKcb;
				
			item.NguoiLienhe = NguoiLienhe;
				
			item.DienthoaiLienhe = DienthoaiLienhe;
				
			item.DiachiLienhe = DiachiLienhe;
				
			item.PtramBhytGoc = PtramBhytGoc;
				
			item.PtramBhyt = PtramBhyt;
				
			item.MatheBhyt = MatheBhyt;
				
			item.NgaybatdauBhyt = NgaybatdauBhyt;
				
			item.NgayketthucBhyt = NgayketthucBhyt;
				
			item.NoicapBhyt = NoicapBhyt;
				
			item.MaNoicapBhyt = MaNoicapBhyt;
				
			item.MaDoituongBhyt = MaDoituongBhyt;
				
			item.MaQuyenloi = MaQuyenloi;
				
			item.NoiDongtrusoKcbbd = NoiDongtrusoKcbbd;
				
			item.MaKcbbd = MaKcbbd;
				
			item.DungTuyen = DungTuyen;
				
			item.Cmt = Cmt;
				
			item.NgayThanhtoan = NgayThanhtoan;
				
			item.LuongCoban = LuongCoban;
				
			item.TrangthaiCapcuu = TrangthaiCapcuu;
				
			item.TrieuChung = TrieuChung;
				
			item.ChanDoan = ChanDoan;
				
			item.KetLuan = KetLuan;
				
			item.HuongDieutri = HuongDieutri;
				
			item.MabenhChinh = MabenhChinh;
				
			item.MabenhPhu = MabenhPhu;
				
			item.HienthiBaocao = HienthiBaocao;
				
			item.SoBenhAn = SoBenhAn;
				
			item.SongayDieutri = SongayDieutri;
				
			item.IdKhoatiepnhan = IdKhoatiepnhan;
				
			item.SolanKham = SolanKham;
				
			item.SttKham = SttKham;
				
			item.Noitru = Noitru;
				
			item.MaKhoaThuchien = MaKhoaThuchien;
				
			item.ChandoanKemtheo = ChandoanKemtheo;
				
			item.NguoiKetthuc = NguoiKetthuc;
				
			item.NgayKetthuc = NgayKetthuc;
				
			item.LydoKetthuc = LydoKetthuc;
				
			item.DiaChi = DiaChi;
				
			item.DiachiBhyt = DiachiBhyt;
				
			item.IdBenhvienDen = IdBenhvienDen;
				
			item.IdBenhvienDi = IdBenhvienDi;
				
			item.TthaiChuyenden = TthaiChuyenden;
				
			item.TthaiChuyendi = TthaiChuyendi;
				
			item.IdBacsiChuyenvien = IdBacsiChuyenvien;
				
			item.TrangthaiNgoaitru = TrangthaiNgoaitru;
				
			item.TrangthaiNoitru = TrangthaiNoitru;
				
			item.Locked = Locked;
				
			item.TthaiThopNoitru = TthaiThopNoitru;
				
			item.TthaiThanhtoannoitru = TthaiThanhtoannoitru;
				
			item.IdNhapvien = IdNhapvien;
				
			item.NgayNhapvien = NgayNhapvien;
				
			item.NgayRavien = NgayRavien;
				
			item.MotaNhapvien = MotaNhapvien;
				
			item.IdRavien = IdRavien;
				
			item.IdKhoanoitru = IdKhoanoitru;
				
			item.IdBuong = IdBuong;
				
			item.IdGiuong = IdGiuong;
				
			item.NgayKedon = NgayKedon;
				
			item.NgayNhanthuoc = NgayNhanthuoc;
				
			item.NgayNhanketquaCls = NgayNhanketquaCls;
				
			item.NoiGioithieu = NoiGioithieu;
				
			item.BoVien = BoVien;
				
			item.Email = Email;
				
			item.NhomBenhnhan = NhomBenhnhan;
				
			item.GiayBhyt = GiayBhyt;
				
			item.MadtuongSinhsong = MadtuongSinhsong;
				
			item.IpMaytao = IpMaytao;
				
			item.IpMaysua = IpMaysua;
				
			item.TenMaytao = TenMaytao;
				
			item.TenMaysua = TenMaysua;
				
			item.NgayTao = NgayTao;
				
			item.NguoiTao = NguoiTao;
				
			item.NgaySua = NgaySua;
				
			item.NguoiSua = NguoiSua;
				
	        item.Save(UserName);
	    }
    }
}
