using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VNS.HIS.DAL
{
    /// <summary>
    /// Controller class for kcb_thanhtoan_chitiet
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class KcbThanhtoanChitietController
    {
        // Preload our schema..
        KcbThanhtoanChitiet thisSchemaLoad = new KcbThanhtoanChitiet();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public KcbThanhtoanChitietCollection FetchAll()
        {
            KcbThanhtoanChitietCollection coll = new KcbThanhtoanChitietCollection();
            Query qry = new Query(KcbThanhtoanChitiet.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbThanhtoanChitietCollection FetchByID(object IdChitiet)
        {
            KcbThanhtoanChitietCollection coll = new KcbThanhtoanChitietCollection().Where("id_chitiet", IdChitiet).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbThanhtoanChitietCollection FetchByQuery(Query qry)
        {
            KcbThanhtoanChitietCollection coll = new KcbThanhtoanChitietCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdChitiet)
        {
            return (KcbThanhtoanChitiet.Delete(IdChitiet) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdChitiet)
        {
            return (KcbThanhtoanChitiet.Destroy(IdChitiet) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(int IdThanhtoan,string MadoituongGia,decimal? PtramBhytGoc,decimal PtramBhyt,int SoLuong,decimal DonGia,decimal BnhanChitra,decimal BhytChitra,decimal PhuThu,byte TuTuc,int IdPhieu,int IdPhieuChitiet,int IdDichvu,int IdChitietdichvu,string TenChitietdichvu,string TenBhyt,string DonviTinh,int? SttIn,int? IdKhoakcb,short? IdPhongkham,short? IdBacsiChidinh,byte IdLoaithanhtoan,string TenLoaithanhtoan,string MaDoituongKcb,string KieuChietkhau,decimal? TileChietkhau,decimal? TienChietkhau,string NguoiHuy,DateTime? NgayHuy,byte? TrangthaiHuy,byte? TrangthaiBhyt,byte? TrangthaiChuyen,byte? TinhChiphi,byte NoiTru,int? IdGoi,byte? TrongGoi,long? IdKham,byte? NguonGoc,long? IdChitiethuy,DateTime NgayTao,string NguoiTao)
	    {
		    KcbThanhtoanChitiet item = new KcbThanhtoanChitiet();
		    
            item.IdThanhtoan = IdThanhtoan;
            
            item.MadoituongGia = MadoituongGia;
            
            item.PtramBhytGoc = PtramBhytGoc;
            
            item.PtramBhyt = PtramBhyt;
            
            item.SoLuong = SoLuong;
            
            item.DonGia = DonGia;
            
            item.BnhanChitra = BnhanChitra;
            
            item.BhytChitra = BhytChitra;
            
            item.PhuThu = PhuThu;
            
            item.TuTuc = TuTuc;
            
            item.IdPhieu = IdPhieu;
            
            item.IdPhieuChitiet = IdPhieuChitiet;
            
            item.IdDichvu = IdDichvu;
            
            item.IdChitietdichvu = IdChitietdichvu;
            
            item.TenChitietdichvu = TenChitietdichvu;
            
            item.TenBhyt = TenBhyt;
            
            item.DonviTinh = DonviTinh;
            
            item.SttIn = SttIn;
            
            item.IdKhoakcb = IdKhoakcb;
            
            item.IdPhongkham = IdPhongkham;
            
            item.IdBacsiChidinh = IdBacsiChidinh;
            
            item.IdLoaithanhtoan = IdLoaithanhtoan;
            
            item.TenLoaithanhtoan = TenLoaithanhtoan;
            
            item.MaDoituongKcb = MaDoituongKcb;
            
            item.KieuChietkhau = KieuChietkhau;
            
            item.TileChietkhau = TileChietkhau;
            
            item.TienChietkhau = TienChietkhau;
            
            item.NguoiHuy = NguoiHuy;
            
            item.NgayHuy = NgayHuy;
            
            item.TrangthaiHuy = TrangthaiHuy;
            
            item.TrangthaiBhyt = TrangthaiBhyt;
            
            item.TrangthaiChuyen = TrangthaiChuyen;
            
            item.TinhChiphi = TinhChiphi;
            
            item.NoiTru = NoiTru;
            
            item.IdGoi = IdGoi;
            
            item.TrongGoi = TrongGoi;
            
            item.IdKham = IdKham;
            
            item.NguonGoc = NguonGoc;
            
            item.IdChitiethuy = IdChitiethuy;
            
            item.NgayTao = NgayTao;
            
            item.NguoiTao = NguoiTao;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdChitiet,int IdThanhtoan,string MadoituongGia,decimal? PtramBhytGoc,decimal PtramBhyt,int SoLuong,decimal DonGia,decimal BnhanChitra,decimal BhytChitra,decimal PhuThu,byte TuTuc,int IdPhieu,int IdPhieuChitiet,int IdDichvu,int IdChitietdichvu,string TenChitietdichvu,string TenBhyt,string DonviTinh,int? SttIn,int? IdKhoakcb,short? IdPhongkham,short? IdBacsiChidinh,byte IdLoaithanhtoan,string TenLoaithanhtoan,string MaDoituongKcb,string KieuChietkhau,decimal? TileChietkhau,decimal? TienChietkhau,string NguoiHuy,DateTime? NgayHuy,byte? TrangthaiHuy,byte? TrangthaiBhyt,byte? TrangthaiChuyen,byte? TinhChiphi,byte NoiTru,int? IdGoi,byte? TrongGoi,long? IdKham,byte? NguonGoc,long? IdChitiethuy,DateTime NgayTao,string NguoiTao)
	    {
		    KcbThanhtoanChitiet item = new KcbThanhtoanChitiet();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdChitiet = IdChitiet;
				
			item.IdThanhtoan = IdThanhtoan;
				
			item.MadoituongGia = MadoituongGia;
				
			item.PtramBhytGoc = PtramBhytGoc;
				
			item.PtramBhyt = PtramBhyt;
				
			item.SoLuong = SoLuong;
				
			item.DonGia = DonGia;
				
			item.BnhanChitra = BnhanChitra;
				
			item.BhytChitra = BhytChitra;
				
			item.PhuThu = PhuThu;
				
			item.TuTuc = TuTuc;
				
			item.IdPhieu = IdPhieu;
				
			item.IdPhieuChitiet = IdPhieuChitiet;
				
			item.IdDichvu = IdDichvu;
				
			item.IdChitietdichvu = IdChitietdichvu;
				
			item.TenChitietdichvu = TenChitietdichvu;
				
			item.TenBhyt = TenBhyt;
				
			item.DonviTinh = DonviTinh;
				
			item.SttIn = SttIn;
				
			item.IdKhoakcb = IdKhoakcb;
				
			item.IdPhongkham = IdPhongkham;
				
			item.IdBacsiChidinh = IdBacsiChidinh;
				
			item.IdLoaithanhtoan = IdLoaithanhtoan;
				
			item.TenLoaithanhtoan = TenLoaithanhtoan;
				
			item.MaDoituongKcb = MaDoituongKcb;
				
			item.KieuChietkhau = KieuChietkhau;
				
			item.TileChietkhau = TileChietkhau;
				
			item.TienChietkhau = TienChietkhau;
				
			item.NguoiHuy = NguoiHuy;
				
			item.NgayHuy = NgayHuy;
				
			item.TrangthaiHuy = TrangthaiHuy;
				
			item.TrangthaiBhyt = TrangthaiBhyt;
				
			item.TrangthaiChuyen = TrangthaiChuyen;
				
			item.TinhChiphi = TinhChiphi;
				
			item.NoiTru = NoiTru;
				
			item.IdGoi = IdGoi;
				
			item.TrongGoi = TrongGoi;
				
			item.IdKham = IdKham;
				
			item.NguonGoc = NguonGoc;
				
			item.IdChitiethuy = IdChitiethuy;
				
			item.NgayTao = NgayTao;
				
			item.NguoiTao = NguoiTao;
				
	        item.Save(UserName);
	    }
    }
}
